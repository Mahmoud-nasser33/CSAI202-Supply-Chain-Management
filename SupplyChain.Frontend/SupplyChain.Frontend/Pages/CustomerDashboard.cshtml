@page
@model SupplyChain.Frontend.Pages.CustomerDashboardModel
@{
    ViewData["Title"] = "My Account";
}

<div class="container-bento">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1 class="display-6 fw-bold mb-1">My Shopping Dashboard</h1>
            <p class="text-muted">Asset Synchronization orders, manage purchases, and earn rewards</p>
        </div>
        <div>
            <span class="badge bg-info px-3 py-2">Customer Account</span>
        </div>
    </div>

    <div class="row g-4 mb-4">

        <div class="col-md-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <p class="text-muted mb-1 small fw-bold">MY ORDERS</p>
                            <h2 class="display-4 fw-bold text-primary mb-0">3</h2>
                        </div>
                        <div class="rounded-circle bg-primary bg-opacity-10 p-3">
                            <i class="bi bi-bag-check-fill text-primary" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                    <small class="text-success"><i class="bi bi-arrow-up"></i> 2 arriving soon</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <p class="text-muted mb-1 small fw-bold">THIS MONTH</p>
                            <h2 class="display-4 fw-bold text-success mb-0">$2.4K</h2>
                        </div>
                        <div class="rounded-circle bg-success bg-opacity-10 p-3">
                            <i class="bi bi-wallet2 text-success" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                    <small class="text-muted">Total spent</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <p class="text-muted mb-1 small fw-bold">WISHLIST</p>
                            <h2 class="display-4 fw-bold text-warning mb-0">8</h2>
                        </div>
                        <div class="rounded-circle bg-warning bg-opacity-10 p-3">
                            <i class="bi bi-heart-fill text-warning" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                    <small class="text-muted">Saved for later</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card border-0 shadow-sm h-100" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <p class="mb-1 small fw-bold opacity-75">REWARDS</p>
                            <h2 class="display-4 fw-bold mb-0">450</h2>
                        </div>
                        <div class="rounded-circle bg-white bg-opacity-25 p-3">
                            <i class="bi bi-gift-fill" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                    <small class="opacity-75">50 pts to next reward!</small>
                </div>
            </div>
        </div>
    </div>

    <div class="card mb-4 border-0 shadow-sm">
        <div class="card-header bg-white">
            <h5 class="mb-0"><i class="bi bi-lightning-charge-fill text-warning"></i> Quick Shopping</h5>
        </div>
        <div class="card-body">
            <div class="row g-3">
                <div class="col-md-3">
                    <button class="btn btn-primary w-100 py-3 shadow-sm">
                        <i class="bi bi-cart-plus d-block mb-2" style="font-size: 2rem;"></i>
                        <strong>Shop Now</strong>
                    </button>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-primary w-100 py-3">
                        <i class="bi bi-arrow-repeat d-block mb-2" style="font-size: 2rem;"></i>
                        <strong>Reorder</strong>
                    </button>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-warning w-100 py-3">
                        <i class="bi bi-heart d-block mb-2" style="font-size: 2rem;"></i>
                        <strong>Wishlist</strong>
                    </button>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-success w-100 py-3">
                        <i class="bi bi-headset d-block mb-2" style="font-size: 2rem;"></i>
                        <strong>Support</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-box-seam"></i> My Orders</h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Date</th>
                            <th>Items</th>
                            <th>Total</th>
                            <th>Status</th>
                            <th>Tracking</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>#ORD-5678</strong></td>
                            <td>Dec 15, 2025</td>
                            <td>3 items</td>
                            <td>$450.00</td>
                            <td><span class="badge bg-info">In Transit</span></td>
                            <td><a href="#" class="text-primary">Asset Synchronization</a></td>
                            <td><button class="btn btn-sm btn-outline-primary">View</button></td>
                        </tr>
                        <tr>
                            <td><strong>#ORD-5677</strong></td>
                            <td>Dec 14, 2025</td>
                            <td>2 items</td>
                            <td>$320.00</td>
                            <td><span class="badge bg-warning">Processing</span></td>
                            <td>-</td>
                            <td><button class="btn btn-sm btn-outline-primary">View</button></td>
                        </tr>
                        <tr>
                            <td><strong>#ORD-5650</strong></td>
                            <td>Dec 10, 2025</td>
                            <td>5 items</td>
                            <td>$890.00</td>
                            <td><span class="badge bg-success">Delivered</span></td>
                            <td>-</td>
                            <td>
                                <button class="btn btn-sm btn-outline-success">Reorder</button>
                                <button class="btn btn-sm btn-outline-primary">Review</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    // Protect this page - require authentication
    if (!sessionManager.isLoggedIn() || !sessionManager.hasRole('customer')) {
        window.location.href = '/Login';
    }
</script>
